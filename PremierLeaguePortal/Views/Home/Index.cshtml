@model IEnumerable<PremierLeaguePortal.Models.HomeViewModel>

@{
    ViewBag.Title = "Home Page";
    var analysis = Model.Where(b => b.Category == PremierLeaguePortal.Models.EBlogCategory.Analysis && b.IsPublished == true)
        .OrderBy(b => b.CreatedOn).Take(3).ToList();
    var transfers = Model.Where(b => b.Category == PremierLeaguePortal.Models.EBlogCategory.Transfers && b.IsPublished == true)
        .OrderBy(b => b.CreatedOn).Take(3).ToList();
    var news = Model.Where(b => b.Category == PremierLeaguePortal.Models.EBlogCategory.News && b.IsPublished == true)
        .OrderBy(b => b.CreatedOn).Take(3).ToList();
}

<div class="jumbotron">
    <h1>ASP.NET</h1>
    <p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS and JavaScript.</p>
    <p><a href="http://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
</div>
<div class="container-fluid">
    <div class="row plp-homeCategory">
        <h2>Анализи</h2>
        @for (int i = 0; i < analysis.Count; i++)
        {
            <div class="col-md-4 col-lg-4 col-sm-12 col-xs-12">
                <div>@analysis[i].Header</div>
                <div>@analysis[i].SubHeader</div>
                @if (analysis[i].HeaderImage != null)
                {
                    <img src="@Url.Content("~/" + analysis[i].HeaderImage.ImagePhysicalPath)" alt="Image" class="img-thumbnail img-responsive plp-homePageThumb" />
                }
                else
                {
                    <img src="@Url.Content("~/images/sysimages/no-image-available.jpg")" alt="Image" class="img-thumbnail img-responsive plp-homePageThumb" />
                }
                <div>@Html.Raw(analysis[i].ShortContent)</div>
                <div>@analysis[i].ApplicationUser.NickName</div>
                @plp_Helpers.GenerateParamButton(Url, "More", "Home", PremierLeaguePortal.Models.ELinkType.DETAILS, "More", analysis[i].Id)
            </div>
        }
    </div>
    <div style="clear: both"></div>
    <div class="row plp-homeCategory">
        <h2>Трансфери</h2>
        @for (int i = 0; i < transfers.Count; i++)
        {
            <div class="col-md-4 col-lg-4 col-sm-12 col-xs-12">
                <div>@transfers[i].Header</div>
                <div>@transfers[i].SubHeader</div>
                @if (transfers[i].HeaderImage != null)
                {
                    <img src="@Url.Content("~/" + transfers[i].HeaderImage.ImagePhysicalPath)" alt="Image" class="img-thumbnail img-responsive plp-homePageThumb" />
                }
                else
                {
                    <img src="@Url.Content("~/images/sysimages/no-image-available.jpg")" alt="Image" class="img-thumbnail img-responsive plp-homePageThumb" />
                }
                <div>@Html.Raw(@transfers[i].ShortContent)</div>
                <div>@transfers[i].ApplicationUser.NickName</div>
                @plp_Helpers.GenerateParamButton(Url, "More", "Home", PremierLeaguePortal.Models.ELinkType.DETAILS, "More", transfers[i].Id)
            </div>
        }
    </div>
    <div style="clear: both"></div>
    <div class="row plp-homeCategory">
        <h2>Новини</h2>
        @for (int i = 0; i < news.Count; i++)
        {
            <div class="col-md-4 col-lg-4 col-sm-12 col-xs-12">
                <div>@news[i].Header</div>
                <div>@news[i].SubHeader</div>
                @if (news[i].HeaderImage != null)
                {
                    <img src="@Url.Content("~/" + news[i].HeaderImage.ImagePhysicalPath)" alt="Image" class="img-thumbnail img-responsive plp-homePageThumb" />
                }
                else
                {
                    <img src="@Url.Content("~/images/sysimages/no-image-available.jpg")" alt="Image" class="img-thumbnail img-responsive plp-homePageThumb" />
                }
                <div>@Html.Raw(news[i].ShortContent)</div>
                <div>@news[i].ApplicationUser.NickName</div>
                @plp_Helpers.GenerateParamButton(Url, "More", "Home", PremierLeaguePortal.Models.ELinkType.DETAILS, "More", news[i].Id)
            </div>
        }
    </div>
    <div style="clear: both"></div>
</div>

